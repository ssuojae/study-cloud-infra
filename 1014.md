


### NAT (Network Address Translation)

```scss
내부 네트워크 (사설 IP)
    ┌────────────┐    ┌─────────────┐    ┌──────────────┐
    │  PC1       │    │  PC2        │    │  PC3         │
    │192.168.1.2 │    │  192.168.1.3│    │  192.168.1.4 │
    └────────────┘    └─────────────┘    └──────────────┘
          │                │                │
          └─────────────┬──┴──┬─────────────┘
                        │ NAT │   (번역: 공인 IP로 변경)
                        └──┬──┘
                           │
                    ┌──────┴──────┐
                    │   공인 IP    │ (예: 203.0.113.1)
                    └─────────────┘
                           │
                     인터넷(외부 네트워크)
                           │
                        ┌───────┐
                        │웹사이트 │
                        │Google │
                        └───────┘
```


<br/>

### PAT (Port Address Translation)

```rust
  내부 네트워크 (사설 IP)
    ┌─────────────┐    ┌──────────────┐    ┌──────────────┐
    │  PC1        │    │  PC2         │    │  PC3         │
    │  192.168.1.2│    │  192.168.1.3 │    │  192.168.1.4 │
    └─────────────┘    └──────────────┘    └──────────────┘
          │                │                │
          └─────────────┬──┴──┬─────────────┘
                        │ NAT │   (번역: 공인 IP로 변경)
                        └──┬──┘
                           │
                    ┌──────┴──────┐
                    │   공인 IP    │ (예: 203.0.113.1)
                    └─────────────┘
                           │
                     인터넷(외부 네트워크)
                           │
                        ┌───────┐
                        │웹사이트 │
                        │Google │
                        └───────┘
```

| 구분          | NAT (Network Address Translation)              | PAT (Port Address Translation)                   |
|---------------|------------------------------------------------|--------------------------------------------------|
| **기본 개념**  | 사설 IP 주소를 **공인 IP 주소**로 변환              | 사설 IP 주소를 공인 IP로 변환하는데, **포트 번호**를 추가적으로 사용 |
| **IP 변환 방식** | 여러 사설 IP를 공인 IP로 **변환**                  | 하나의 공인 IP에 **다른 포트 번호**를 사용해 다수의 기기가 통신 가능 |
| **사용되는 자원**| 공인 IP가 여러 개일 수 있음                          | **공인 IP 하나**로 여러 사설 IP가 구분되어 통신 가능                |
| **장점**        | 사설 네트워크를 공인 IP로 변환해 외부와 통신 가능         | 공인 IP 자원을 **효율적으로 사용**, 포트 번호로 여러 기기 구분 가능  |
| **단점**        | 공인 IP가 부족할 경우 다수의 기기가 외부와 통신하기 어려움 | 포트 번호를 관리해야 하며, 동시 접속 시 포트 번호 충돌 가능성 존재   |
| **사용 사례**   | 보통 소규모 네트워크에서 사용                         | 공인 IP 자원이 한정된 대규모 네트워크에서 자주 사용                |





<br/>
<br/>

### Dynamic NAT
```
  사설 네트워크 (다수의 내부 장치)                  공인 네트워크
  ┌───────────┐    ┌───────────┐    ┌───────────┐     ┌─────────┐
  │   PC1     │    │   PC2     │    │   PC3     │     │ Public  │
  │ 192.168.1.2 │  │ 192.168.1.3 │  │ 192.168.1.4 │ ==> │ IP Pool │
  └───────────┘    └───────────┘    └───────────┘     └─────────┘
          │                │                │              │
          └───────┬────────┴───────┬────────┘              │
                  │  Dynamic NAT   │                       │
                  └───────┬────────┘                       │
                          │                                │
                 ┌─────────┴─────────┐                     │
                 │ Dynamic IP 할당    │                     │
                 │ (ex: 203.0.113.2) │ <─── 동적 할당        │
                 └───────────────────┘                     │

```

```
  사설 네트워크 (하나의 내부 장치)                  공인 네트워크
  ┌───────────┐                                 ┌────────────┐
  │  내부 서버  │                                 │   공인 IP   │
  │ 192.168.1.10 │   ─────────────────────────>  │ 203.0.113.10 │
  └───────────┘                                 └────────────┘
          │
          └─────────┬───────── Static NAT
                    │
              ┌─────┴─────┐
              │  고정 IP   │
              │  매핑됨     │
              └───────────┘
```

| 구분          | Dynamic NAT                                      | Static NAT                                  |
|---------------|--------------------------------------------------|---------------------------------------------|
| **IP 할당 방식** | 공인 IP 풀에서 **동적으로 할당**됨                      | 특정 사설 IP와 **고정된 공인 IP**가 1:1로 매핑됨      |
| **공인 IP 수**   | 다수의 사설 IP가 **공유**하는 몇 개의 공인 IP로 동작           | 사설 IP마다 **고정된 공인 IP**가 필요                  |
| **사용 사례**   | 내부 기기가 많고, 모든 기기가 외부와 동시에 통신하지 않을 경우 | 서버, 네트워크 장비 등 **외부에서 항상 접근이 필요한 장치** |
| **장점**        | 공인 IP를 **효율적으로** 사용 가능, IP 자원 절약               | 특정 장치에 **항상 같은 IP**로 접근 가능                |
| **단점**        | 공인 IP 풀에 제한이 있을 경우, 동시 연결이 많은 경우 문제가 발생  | 공인 IP를 많이 사용해야 하므로 IP 자원이 많이 필요          |







